{"ast":null,"code":"import _defineProperty from \"F:\\\\BlockChain\\\\Projects\\\\feedback-dapp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"F:\\\\BlockChain\\\\Projects\\\\feedback-dapp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\BlockChain\\\\Projects\\\\feedback-dapp\\\\client\\\\src\\\\components\\\\Modals\\\\Canteen\\\\canteen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState } from 'react';\nimport { styled } from \"@mui/material/styles\";\nimport TextField from \"@mui/material/TextField\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport { Button } from '@mui/material';\nimport CanteenFunctionBox from '../../FunctionBox/CanteenFunctionBox/canteenFunctionBox';\nimport CurrencyBitcoin from '@mui/icons-material/CurrencyBitcoin';\nimport ShoppingCartOutlinedIcon from '@mui/icons-material/ShoppingCartOutlined';\nimport { red } from \"@mui/material/colors\";\nimport Avatar from '@mui/material/Avatar';\nimport './canteen.scss';\n\nconst Canteen = props => {\n  const food = {\n    Burger: 5,\n    Juice: 2,\n    Pizza: 15,\n    Samosa: 3,\n    Maggie: 5\n  };\n\n  const _useState = useState({\n    foods: [],\n    price: 0,\n    error: ''\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        order = _useState2[0],\n        setOrder = _useState2[1]; // Handlers\n\n\n  const handleFoodChange = foods => {\n    let price = 0;\n\n    for (var i = 0; i < foods.length; i++) price += food[foods[i]];\n\n    setOrder({\n      price: price,\n      foods: foods,\n      error: ''\n    });\n  };\n\n  const handleSubmit = () => {\n    props.onLoading(true);\n\n    if (props.balance < order.price) {\n      setOrder(_objectSpread({}, order, {\n        error: \"Insufficient tokens (\".concat(props.balance, \")\")\n      }));\n      props.onLoading(false);\n      return;\n    }\n\n    const bhuContract = props.contracts.bhuToken; // Approval to spend:\n\n    if (bhuContract !== undefined) {\n      bhuContract.methods.approve(bhuContract._address, order.price * 1e18).send({\n        from: props.account\n      }).then(() => {\n        props.onToastChange('TxN INFO: TxN approved by user', 'info', true); // Transfer commit\n\n        bhuContract.methods.transferFrom(bhuContract._address, props.account, order.price * 1e18).send({\n          from: props.account\n        }).then(() => {\n          props.onToastChange('TxN SUCCESS: Transaction successful', 'success', true);\n        }).catch(e => {\n          if (e.code == '4001') props.onToastChange('TxN WARN: Denied by user', 'warning', true);else props.onToastChange('TxN ERROR: Something went wrong', 'error', true);\n        });\n      }).catch(e => {\n        if (e.code == '4001') props.onToastChange('TxN WARN: Denied by user', 'warning', true);else props.onToastChange('TxN ERROR: Something went wrong', 'error', true);\n      }).finally(() => props.onLoading(false));\n    } else {\n      props.onToastChange('BHU Contract not deployed', 'error', true);\n      props.onLoading(false);\n    }\n  };\n\n  return React.createElement(\"div\", {\n    className: \"cards\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"fbox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \" VIRTUAL CANTEEN \"), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }), React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"innerCanteen\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, \"Select items to order:\", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), \" \", React.createElement(\"br\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }), React.createElement(CanteenFunctionBox, {\n    titleLeft: \"Stock:\",\n    titleRight: \"Cart:\",\n    items: Object.keys(food),\n    food: food,\n    handleFoodChange: handleFoodChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }), React.createElement(\"div\", {\n    className: \"priceWindow\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, React.createElement(CssTextField, {\n    sx: {\n      margin: \"1rem\",\n      maxWidth: \"300px\",\n      placeSelf: 'center'\n    },\n    InputProps: {\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        sx: {\n          bgcolor: red[800]\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \" \", React.createElement(CurrencyBitcoin, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }), \" \"))\n    },\n    id: \"total-price\",\n    name: \"price\",\n    disabled: true,\n    value: order.price,\n    label: \"TOTAL\",\n    error: order.error.length !== 0,\n    helperText: order.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93\n    },\n    __self: this\n  }), React.createElement(Button, {\n    variant: \"outlined\",\n    color: \"error\",\n    endIcon: React.createElement(ShoppingCartOutlinedIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }),\n    sx: {\n      color: 'white'\n    },\n    onClick: handleSubmit,\n    size: \"large\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"ORDER\")))));\n};\n\nexport default Canteen;\nconst CssTextField = styled(TextField)({\n  '& .MuiInputBase-input': {\n    color: 'white'\n  },\n  '& label': {\n    color: '#666666'\n  },\n  '& label.Mui-focused': {\n    color: 'white'\n  },\n  '& .MuiInput-underline:after': {\n    borderBottomColor: '#ce3333'\n  },\n  '& .MuiOutlinedInput-root': {\n    '& fieldset': {\n      borderColor: '#666666'\n    },\n    '&:hover fieldset': {\n      borderColor: '#ce3333'\n    },\n    '&.Mui-focused fieldset': {\n      borderColor: '#ce3333'\n    }\n  },\n  \"& .MuiFormLabel-root.Mui-error.Mui-disabled\": {\n    color: \"#ffdd00 !important\"\n  },\n  '& label.Mui-focused.Mui-error.Mui-disabled': {\n    color: \"white !important\"\n  },\n  '& .MuiOutlinedInput-root.Mui-error.Mui-disabled': {\n    '& fieldset': {\n      borderColor: \"#ffdd00 !important\"\n    },\n    '&:hover fieldset': {\n      borderColor: \"#ffdd00 !important\"\n    },\n    '&.Mui-focused fieldset': {\n      borderColor: \"#ffdd00 !important\"\n    }\n  },\n  '& .MuiInputBase-input.Mui-disabled': {\n    color: 'white'\n  },\n  \"& .MuiFormLabel-root.Mui-disabled\": {\n    color: \"#ce3333 !important\"\n  },\n  '& label.Mui-focused.Mui-disabled': {\n    color: \"white !important\"\n  },\n  '& .MuiOutlinedInput-root.Mui-disabled': {\n    '& fieldset': {\n      borderColor: \"#ce3333 !important\"\n    },\n    '&:hover fieldset': {\n      borderColor: \"#ce3333 !important\"\n    },\n    '&.Mui-focused fieldset': {\n      borderColor: \"#ce3333 !important\"\n    }\n  }\n});","map":{"version":3,"sources":["F:/BlockChain/Projects/feedback-dapp/client/src/components/Modals/Canteen/canteen.js"],"names":["React","useState","styled","TextField","InputAdornment","Button","CanteenFunctionBox","CurrencyBitcoin","ShoppingCartOutlinedIcon","red","Avatar","Canteen","props","food","Burger","Juice","Pizza","Samosa","Maggie","foods","price","error","order","setOrder","handleFoodChange","i","length","handleSubmit","onLoading","balance","bhuContract","contracts","bhuToken","undefined","methods","approve","_address","send","from","account","then","onToastChange","transferFrom","catch","e","code","finally","Object","keys","margin","maxWidth","placeSelf","endAdornment","bgcolor","color","CssTextField","borderBottomColor","borderColor"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\r\nimport { styled } from \"@mui/material/styles\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport InputAdornment from \"@mui/material/InputAdornment\";\r\nimport { Button } from '@mui/material';\r\nimport CanteenFunctionBox from '../../FunctionBox/CanteenFunctionBox/canteenFunctionBox';\r\nimport CurrencyBitcoin from '@mui/icons-material/CurrencyBitcoin';\r\nimport ShoppingCartOutlinedIcon from '@mui/icons-material/ShoppingCartOutlined';\r\nimport { red } from \"@mui/material/colors\";\r\nimport Avatar from '@mui/material/Avatar';\r\n\r\nimport './canteen.scss';\r\n\r\nconst Canteen = (props) => {\r\n  const food = {\r\n    Burger: 5,\r\n    Juice: 2,\r\n    Pizza: 15,\r\n    Samosa: 3,\r\n    Maggie: 5,\r\n  }\r\n\r\n  const [order, setOrder] = useState({\r\n    foods: [],\r\n    price: 0,\r\n    error: ''\r\n  });\r\n\r\n\r\n  // Handlers\r\n  const handleFoodChange = (foods) => {\r\n    let price = 0\r\n    for (var i = 0; i < foods.length; i++)\r\n      price += food[foods[i]]\r\n\r\n    setOrder({ price: price, foods: foods, error: '' })\r\n  }\r\n\r\n\r\n  const handleSubmit = () => {\r\n    props.onLoading(true);\r\n    if (props.balance < order.price) {\r\n      setOrder({ ...order, error: `Insufficient tokens (${props.balance})` })\r\n      props.onLoading(false);\r\n      return;\r\n    }\r\n\r\n    const bhuContract = props.contracts.bhuToken;\r\n\r\n    // Approval to spend:\r\n    if (bhuContract !== undefined) {\r\n      bhuContract.methods.approve(bhuContract._address, order.price * 1e18).send({ from: props.account })\r\n        .then(() => {\r\n          props.onToastChange('TxN INFO: TxN approved by user', 'info', true)\r\n\r\n          // Transfer commit\r\n          bhuContract.methods.transferFrom(bhuContract._address, props.account, order.price * 1e18).send({ from: props.account })\r\n            .then(() => {\r\n              props.onToastChange('TxN SUCCESS: Transaction successful', 'success', true)\r\n            })\r\n            .catch((e) => {\r\n              if (e.code == '4001')\r\n                props.onToastChange('TxN WARN: Denied by user', 'warning', true);\r\n              else\r\n                props.onToastChange('TxN ERROR: Something went wrong', 'error', true)\r\n            })\r\n        })\r\n        .catch((e) => {\r\n          if (e.code == '4001')\r\n            props.onToastChange('TxN WARN: Denied by user', 'warning', true);\r\n          else\r\n            props.onToastChange('TxN ERROR: Something went wrong', 'error', true)\r\n        })\r\n        .finally(() => props.onLoading(false));\r\n\r\n    } else {\r\n      props.onToastChange('BHU Contract not deployed', 'error', true)\r\n      props.onLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className='cards'>\r\n      <div className='fbox'>\r\n        <h1> VIRTUAL CANTEEN </h1>\r\n        <br />\r\n        <br />\r\n        <div className='innerCanteen'>\r\n          Select items to order:\r\n          <br /> <br />\r\n          <CanteenFunctionBox titleLeft='Stock:' titleRight='Cart:' items={Object.keys(food)} food={food} handleFoodChange={handleFoodChange} />\r\n          <div className='priceWindow'>\r\n            <CssTextField\r\n              sx={{ margin: \"1rem\", maxWidth: \"300px\", placeSelf: 'center' }}\r\n              InputProps={{\r\n                endAdornment: (\r\n                  <InputAdornment position='end'>\r\n                    <Avatar sx={{ bgcolor: red[800] }} > <CurrencyBitcoin /> </Avatar>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n              id=\"total-price\"\r\n              name=\"price\"\r\n              disabled\r\n              value={order.price}\r\n              label=\"TOTAL\"\r\n              error={order.error.length !== 0}\r\n              helperText={order.error}\r\n            />\r\n            <Button variant='outlined' color='error' endIcon={<ShoppingCartOutlinedIcon />} sx={{ color: 'white' }}\r\n              onClick={handleSubmit} size=\"large\">\r\n              ORDER\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default Canteen;\r\n\r\n\r\nconst CssTextField = styled(TextField)({\r\n  '& .MuiInputBase-input': {\r\n    color: 'white'\r\n  },\r\n  '& label': {\r\n    color: '#666666'\r\n  },\r\n  '& label.Mui-focused': {\r\n    color: 'white',\r\n  },\r\n  '& .MuiInput-underline:after': {\r\n    borderBottomColor: '#ce3333',\r\n  },\r\n  '& .MuiOutlinedInput-root': {\r\n    '& fieldset': {\r\n      borderColor: '#666666',\r\n    },\r\n    '&:hover fieldset': {\r\n      borderColor: '#ce3333',\r\n    },\r\n    '&.Mui-focused fieldset': {\r\n      borderColor: '#ce3333',\r\n    },\r\n  },\r\n\r\n  \"& .MuiFormLabel-root.Mui-error.Mui-disabled\": {\r\n    color: \"#ffdd00 !important\"\r\n  },\r\n  '& label.Mui-focused.Mui-error.Mui-disabled': {\r\n    color: \"white !important\",\r\n  },\r\n  '& .MuiOutlinedInput-root.Mui-error.Mui-disabled': {\r\n    '& fieldset': {\r\n      borderColor: \"#ffdd00 !important\",\r\n    },\r\n    '&:hover fieldset': {\r\n      borderColor: \"#ffdd00 !important\",\r\n    },\r\n    '&.Mui-focused fieldset': {\r\n      borderColor: \"#ffdd00 !important\",\r\n    },\r\n  },\r\n\r\n  '& .MuiInputBase-input.Mui-disabled': {\r\n    color: 'white'\r\n  },\r\n  \"& .MuiFormLabel-root.Mui-disabled\": {\r\n    color: \"#ce3333 !important\"\r\n  },\r\n  '& label.Mui-focused.Mui-disabled': {\r\n    color: \"white !important\",\r\n  },\r\n  '& .MuiOutlinedInput-root.Mui-disabled': {\r\n    '& fieldset': {\r\n      borderColor: \"#ce3333 !important\",\r\n    },\r\n    '&:hover fieldset': {\r\n      borderColor: \"#ce3333 !important\",\r\n    },\r\n    '&.Mui-focused fieldset': {\r\n      borderColor: \"#ce3333 !important\",\r\n    },\r\n  },\r\n});"]},"metadata":{},"sourceType":"module"}