{"ast":null,"code":"import { constant } from './constant.js';\nimport { FrequencyArbitrary } from './_internals/FrequencyArbitrary.js';\n\nfunction extractOptionConstraints(constraints) {\n  if (typeof constraints === 'number') return {\n    freq: constraints\n  };\n  if (!constraints) return {};\n  return constraints;\n}\n\nfunction option(arb, rawConstraints) {\n  const constraints = extractOptionConstraints(rawConstraints);\n  const freq = constraints.freq == null ? 5 : constraints.freq;\n  const nilValue = Object.prototype.hasOwnProperty.call(constraints, 'nil') ? constraints.nil : null;\n  const nilArb = constant(nilValue);\n  const weightedArbs = [{\n    arbitrary: nilArb,\n    weight: 1,\n    fallbackValue: {\n      default: nilValue\n    }\n  }, {\n    arbitrary: arb,\n    weight: freq\n  }];\n  const frequencyConstraints = {\n    withCrossShrink: true,\n    depthFactor: constraints.depthFactor,\n    maxDepth: constraints.maxDepth,\n    depthIdentifier: constraints.depthIdentifier\n  };\n  return FrequencyArbitrary.fromOld(weightedArbs, frequencyConstraints, 'fc.option');\n}\n\nexport { option };","map":null,"metadata":{},"sourceType":"module"}