{"ast":null,"code":"import { stream } from '../../../stream/Stream.js';\nexport function pathWalk(path, initialValues, shrink) {\n  let values = stream(initialValues);\n  const segments = path.split(':').map(text => +text);\n  if (segments.length === 0) return values;\n\n  if (!segments.every(v => !Number.isNaN(v))) {\n    throw new Error(\"Unable to replay, got invalid path=\".concat(path));\n  }\n\n  values = values.drop(segments[0]);\n\n  for (const s of segments.slice(1)) {\n    const valueToShrink = values.getNthOrLast(0);\n\n    if (valueToShrink == null) {\n      throw new Error(\"Unable to replay, got wrong path=\".concat(path));\n    }\n\n    values = shrink(valueToShrink).drop(s);\n  }\n\n  return values;\n}","map":null,"metadata":{},"sourceType":"module"}