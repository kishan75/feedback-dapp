{"ast":null,"code":"import _defineProperty from \"F:\\\\BlockChain\\\\Projects\\\\feedback-dapp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"F:\\\\BlockChain\\\\Projects\\\\feedback-dapp\\\\client\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"F:\\\\BlockChain\\\\Projects\\\\feedback-dapp\\\\client\\\\src\\\\App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useEffect } from \"react\";\nimport { Routes, Route } from 'react-router-dom';\nimport { loadAll, loadBalance, loadProfessorData } from './scripts/loader'; // Pages\n\nimport HomePage from './pages/HomePage/homePage';\nimport \"./App.css\";\n\nconst App = () => {\n  const _useState = useState({\n    web3: null,\n    contract: {\n      transactor: null,\n      bhuToken: null,\n      feedbackData: null\n    },\n    account: {\n      address: '0x0',\n      balance: 0\n    },\n    professor: {}\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        mainState = _useState2[0],\n        setMainState = _useState2[1]; // React useEffects\n\n\n  useEffect(() => {\n    loadAll().then(e => {\n      setMainState({\n        web3: null,\n        contract: {\n          transactor: e.transactorContract,\n          bhuToken: e.bhuTokenContract,\n          feedbackData: e.feedbackDataContract\n        },\n        account: {\n          address: e.accountAddress,\n          balance: e.accountBalance\n        },\n        professor: {\n          emails: e.professorEmails,\n          datas: e.professerDatas\n        }\n      });\n      console.log(e.feedbackDataContract);\n    });\n  }, [mainState.accountAddress]); // Handlers\n\n  const handleBalanceChange = () => {\n    loadBalance(mainState.transactorContract, mainState.accountAddress).then(e => {\n      setMainState(_objectSpread({}, mainState, {\n        account: _objectSpread({}, mainState.account, {\n          balance: e.accountBalance\n        })\n      }));\n    });\n  };\n\n  const handleProfessorDataChange = () => {\n    loadProfessorData().then(e => {\n      setMainState(_objectSpread({}, mainState, {\n        professor: _objectSpread({}, mainState.professor, {\n          datas: e.professerDatas\n        })\n      }));\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"App\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, React.createElement(Routes, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    element: React.createElement(HomePage, {\n      mainState: mainState,\n      handleBalanceChange: handleBalanceChange,\n      handleProfessorDataChange: handleProfessorDataChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  })));\n};\n\nexport default App;","map":{"version":3,"sources":["F:/BlockChain/Projects/feedback-dapp/client/src/App.js"],"names":["React","useState","useEffect","Routes","Route","loadAll","loadBalance","loadProfessorData","HomePage","App","web3","contract","transactor","bhuToken","feedbackData","account","address","balance","professor","mainState","setMainState","then","e","transactorContract","bhuTokenContract","feedbackDataContract","accountAddress","accountBalance","emails","professorEmails","datas","professerDatas","console","log","handleBalanceChange","handleProfessorDataChange"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Routes, Route } from 'react-router-dom';\r\nimport { loadAll, loadBalance, loadProfessorData } from './scripts/loader'\r\n\r\n// Pages\r\nimport HomePage from './pages/HomePage/homePage';\r\n\r\nimport \"./App.css\";\r\n\r\nconst App = () => {\r\n  const [mainState, setMainState] = useState({\r\n    web3: null,\r\n    contract: {\r\n      transactor: null,\r\n      bhuToken: null,\r\n      feedbackData: null\r\n    },\r\n    account: {\r\n      address: '0x0',\r\n      balance: 0\r\n    },\r\n    professor: {\r\n\r\n    },\r\n\r\n  })\r\n\r\n\r\n  // React useEffects\r\n  useEffect(() => {\r\n    loadAll().then((e) => {\r\n      setMainState({\r\n        web3: null,\r\n        contract: {\r\n          transactor: e.transactorContract,\r\n          bhuToken: e.bhuTokenContract,\r\n          feedbackData: e.feedbackDataContract\r\n        },\r\n        account: {\r\n          address: e.accountAddress,\r\n          balance: e.accountBalance\r\n        },\r\n        professor: {\r\n          emails: e.professorEmails,\r\n          datas: e.professerDatas,\r\n        },\r\n      });\r\n      console.log(e.feedbackDataContract);\r\n    });\r\n  }, [mainState.accountAddress])\r\n\r\n  // Handlers\r\n  const handleBalanceChange = () => {\r\n    loadBalance(mainState.transactorContract, mainState.accountAddress).then((e) => {\r\n      setMainState({\r\n        ...mainState,\r\n        account: { ...mainState.account, balance: e.accountBalance }\r\n      });\r\n    });\r\n  }\r\n\r\n  const handleProfessorDataChange = () => {\r\n    loadProfessorData().then((e) => {\r\n      setMainState({\r\n        ...mainState,\r\n        professor: { ...mainState.professor, datas: e.professerDatas }\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Routes>\r\n        <Route exact path='/' element={<HomePage\r\n          mainState={mainState}\r\n          handleBalanceChange={handleBalanceChange}\r\n          handleProfessorDataChange={handleProfessorDataChange}\r\n        />} />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}