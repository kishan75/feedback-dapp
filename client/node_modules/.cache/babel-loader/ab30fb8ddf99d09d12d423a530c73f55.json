{"ast":null,"code":"export class SameValueSet {\n  constructor(selector) {\n    this.selector = selector;\n    this.selectedItemsExceptMinusZero = new Set();\n    this.data = [];\n    this.hasMinusZero = false;\n  }\n\n  tryAdd(value) {\n    const selected = this.selector(value);\n\n    if (Object.is(selected, -0)) {\n      if (this.hasMinusZero) {\n        return false;\n      }\n\n      this.data.push(value);\n      this.hasMinusZero = true;\n      return true;\n    }\n\n    const sizeBefore = this.selectedItemsExceptMinusZero.size;\n    this.selectedItemsExceptMinusZero.add(selected);\n\n    if (sizeBefore !== this.selectedItemsExceptMinusZero.size) {\n      this.data.push(value);\n      return true;\n    }\n\n    return false;\n  }\n\n  size() {\n    return this.data.length;\n  }\n\n  getData() {\n    return this.data;\n  }\n\n}","map":null,"metadata":{},"sourceType":"module"}